(this.webpackJsonpnoeticblue_project=this.webpackJsonpnoeticblue_project||[]).push([[0],{27:function(e,t,s){},29:function(e,t,s){},52:function(e,t,s){"use strict";s.r(t);var a=s(2),r=s.n(a),n=s(18),c=s.n(n),l=(s(27),s(21)),i=s(22),u=s(8),o=s.n(u),d=s(19),m=s(4),j=(s(29),s(20)),p=s.n(j),b=s.p+"static/media/image.dc741baf.jpg",x=s(0),h=function(e){var t=e.employee,s=e.handleEditClick;return Object(x.jsxs)("tr",{className:"flex w-full items-center",children:[Object(x.jsx)("td",{className:"pl-2 py-6 w-1/3 whitespace-nowrap",children:Object(x.jsxs)("div",{className:"flex items-center",children:[Object(x.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:Object(x.jsx)("img",{className:"h-10 w-10 rounded-full",src:b,alt:""})}),Object(x.jsxs)("div",{className:"pl-2",children:[Object(x.jsx)("div",{className:"font-medium text-gray-800",children:t.user.name}),Object(x.jsx)("div",{className:"text-gray-500",children:t.user.email})]})]})}),Object(x.jsxs)("td",{className:"pl-1 py-6 w-1/3 whitespace-nowrap",children:[Object(x.jsx)("div",{className:"font-medium text-gray-800  border-2 border-transparent",children:t.user.title}),Object(x.jsx)("div",{className:"text-gray-500 border-2 border-transparent ",children:t.user.department})]}),Object(x.jsx)("td",{className:"md:pl-4  sm:pl-4 lg:pl-6 py-6 w-1/12 text-center whitespace-nowrap",children:"active"===t.status.toLowerCase()?Object(x.jsx)("span",{className:"px-2 bg-green-200 rounded-full font-semibold text-gray-800",children:t.status[0].toUpperCase()+t.status.substring(1)}):Object(x.jsx)("span",{className:"px-2 bg-red-200 rounded-full font-semibold text-gray-800",children:t.status[0].toUpperCase()+t.status.substring(1)})}),Object(x.jsx)("td",{className:"pl-8 py-6 w-2/12  text-center whitespace-nowrap text-gray-500",children:Object(x.jsx)("select",{className:"appearance-none",name:"role",value:t.role,readOnly:!0,children:Object(x.jsx)("option",{value:t.role,children:t.role})})}),Object(x.jsx)("td",{className:"py-6 w-1/12 text-right pr-4 whitespace-nowrap",children:Object(x.jsx)("button",{type:"button",className:"font-medium text-purple-500 hover:text-purple-900",onClick:function(e){return s(e,t)},children:"Edit"})})]},t.user.name)},f=function(e){var t=e.editFormData,s=e.handleEditFormChange,a=e.uniqueRoles;return Object(x.jsxs)("tr",{className:"flex w-full items-center",children:[Object(x.jsx)("td",{className:"pl-2 py-6 w-1/3  whitespace-nowrap",children:Object(x.jsxs)("div",{className:"flex items-center",children:[Object(x.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:Object(x.jsx)("img",{className:"h-10 w-10 rounded-full",src:b,alt:""})}),Object(x.jsxs)("div",{className:"pl-2",children:[Object(x.jsx)("div",{className:"font-medium text-gray-800",children:t.user.name}),Object(x.jsx)("div",{className:"text-gray-500",children:t.user.email})]})]})}),Object(x.jsxs)("td",{className:"pl-1 py-6 w-1/3 whitespace-nowrap",children:[Object(x.jsx)("div",{children:Object(x.jsx)("input",{className:"w-full border-2 border-blue-200 rounded-lg focus:border-blue-400 focus:outline-none font-medium text-gray-800",type:"text",required:"required",placeholder:"Enter title...",name:"user.title",value:t.user.title,onChange:s})}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{className:"w-full border-2 border-blue-200 rounded-lg focus:border-blue-400 focus:outline-none  text-gray-500",type:"text",required:"required",placeholder:"Enter department...",name:"user.department",value:t.user.department,onChange:s})})]}),Object(x.jsx)("td",{className:"md:pl-4  sm:pl-4 lg:pl-6 py-6 w-1/12 text-center whitespace-nowrap",children:"active"===t.status.toLowerCase()?Object(x.jsx)("input",{className:"px-2 bg-green-200 rounded-full font-semibold text-gray-800 hover:bg-green-400 cursor-pointer",type:"button",name:"status",value:t.status[0].toUpperCase()+t.status.substring(1),onClick:s}):Object(x.jsx)("input",{className:"px-2 bg-red-200 rounded-full font-semibold text-gray-800 hover:bg-red-400 cursor-pointer",type:"button",name:"status",value:t.status[0].toUpperCase()+t.status.substring(1),onClick:s})}),Object(x.jsx)("td",{className:"pl-8 py-6 w-2/12  text-center  whitespace-nowrap text-gray-500",children:Object(x.jsx)("select",{className:"",name:"role",value:t.role,onChange:s,children:a.map((function(e){return Object(x.jsx)("option",{value:e,children:e},e)}))})}),Object(x.jsx)("td",{className:"py-6 w-1/12 text-right pr-4 whitespace-nowrap",children:Object(x.jsx)("button",{className:"font-medium text-blue-500 hover:text-blue-900",type:"submit",children:"Save"})})]})},O=s(9),g=s.n(O);var w=function(){var e=Object(a.useState)(null),t=Object(m.a)(e,2),s=t[0],r=t[1],n=Object(a.useState)({user:{name:"",email:"",title:"",department:""},status:"",role:""}),c=Object(m.a)(n,2),u=c[0],j=c[1],b=Object(a.useState)(null),O=Object(m.a)(b,2),w=O[0],v=O[1],y=Object(a.useState)([]),N=Object(m.a)(y,2),C=N[0],k=N[1];Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://raw.githubusercontent.com/NoeticBlue/exercise-company-employees/main/employees.json");case 2:t=e.sent,r(t.data.records),s=g.a.keys(g.a.countBy(t.data.records,(function(e){return e.role}))),k(s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var S=function(e,t){e.preventDefault(),v(t.user.name);var s={user:{name:t.user.name,email:t.user.email,title:t.user.title,department:t.user.department},status:t.status,role:t.role};j(s)},E=function(e){e.preventDefault();var t=e.target.getAttribute("name"),s=e.target.value;"status"===t&&(s="active"===s.toLowerCase()?"Inactive":"Active");var a=Object(i.a)({},u),r=(t=String(t)).split(".");r.length>1?a[r[0]][r[1]]=s:a[t]=s,j(a)};return Object(x.jsx)("div",{class:"container -my-2 py-2 min-w-full",children:Object(x.jsx)("div",{className:"m-8 shadow border border-gray-300 rounded-lg",children:Object(x.jsx)("form",{onSubmit:function(e){e.preventDefault();var t=Object(l.a)(s),a=s.findIndex((function(e){return e.user.name===w})),n={user:{name:u.user.name,email:u.user.email,title:u.user.title,department:u.user.department},status:u.status,role:u.role};t[a]=n,r(t),v(null)},className:"",children:Object(x.jsxs)("table",{className:"table-fixed min-w-full divide-y divide-gray-300",children:[Object(x.jsx)("thead",{className:"bg-black flex-col text-white w-full min-w-full bg-gray-100 uppercase text-left text-gray-500 ",children:Object(x.jsxs)("tr",{className:"flex w-full ",children:[Object(x.jsx)("th",{scope:"col",className:"w-1/3 font-medium pl-2",children:"Name"}),Object(x.jsx)("th",{scope:"col",className:"w-1/3 font-medium",children:"Title"}),Object(x.jsx)("th",{scope:"col",className:"w-1/12 font-medium text-center",children:"Status"}),Object(x.jsx)("th",{scope:"col",className:"w-2/12 font-medium text-center",children:"Role"}),Object(x.jsx)("th",{scope:"col",className:"w-1/12"})]})}),Object(x.jsx)("tbody",{class:"flex flex-col bg-white divide-y divide-gray-300 overflow-y-auto",style:{height:500},children:s&&s.map((function(e){return Object(x.jsx)(a.Fragment,{children:w===e.user.name?Object(x.jsx)(f,{editFormData:u,handleEditFormChange:E,uniqueRoles:C}):Object(x.jsx)(h,{employee:e,handleEditClick:S})},e.user.name)}))})]})})})})},v=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,53)).then((function(t){var s=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,c=t.getTTFB;s(e),a(e),r(e),n(e),c(e)}))};c.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(w,{})}),document.getElementById("root")),v()}},[[52,1,2]]]);
//# sourceMappingURL=main.b38fd227.chunk.js.map